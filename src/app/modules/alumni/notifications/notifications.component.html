
<!-- /new updated code -->

<div class="notifications">
  <div class="return-home">
    <a (click)="returnHome()">
      <svg xmlns="http://www.w3.org/2000/svg" width="40" height="30" fill="currentColor" class="bi bi-arrow-left"
        viewBox="0 0 16 16">
        <path fill-rule="evenodd"
          d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z">
        </path>
      </svg>
      go home
    </a>
  </div>
  <hr />
  <div class="title">All notifications</div>
  <div class="top-content">
    <p>Notifications: {{ myNotifications.length }}</p>
    <p>Unread notifications: {{ unreadNotificationCount }}</p>
    <button type="button" class="btn btn-success" (click)="markAllAsRead()">Mark All as Read</button>
  </div>


  <!--DATA-->
  <div *ngIf="isHideNotifications" class="notifications-wrapper">
    <div [ngStyle]="{'background-color': isReadNotification(i) ? 'aliceblue' : 'gray'}" class="notification"
      *ngFor="let notification of myNotifications; let i = index" (click)="onNotificationClick(i)">
      <hr />
      <!-- <div class="image-container">
        {{ adminFnLletter }}
      </div> -->
      <div class="image-container">
        <ng-container *ngIf="notification.sender === 'System'; else adminCheck">
          {{ systemFletter }}
        </ng-container>
        <ng-template #adminCheck>
          <ng-container *ngIf="notification.sender === 'Admin'; else senderImage">
            {{ adminFletter }}
          </ng-container>
        </ng-template>
        <ng-template #senderImage>
          <img [src]="getSenderImage(notification.sender_pic)" alt="SI">
        </ng-template>
      </div>

      <div class="sender">{{ notification.sender }}</div>
      <div class="more-info">
        <div class="message">{{ notification.truncatedMessage }}</div>
        <div class="date">{{ notification.date }}</div>
      </div>
    </div>
  </div>
  <div class="notification" *ngFor="let notification of myNotifications; let i = index">
    <div *ngIf="selectedNotificationIndex === i" class="card">
      <small style="color: green; margin-left: auto;">
        <p>{{ timeReplied }}</p>
        <p>{{ notification.date }}</p>
      </small>
      <hr />
      <!-- <div class="image-container2">
        {{ adminFnLletter }}
      </div> -->
      <div class="image-container2">
        <ng-container *ngIf="notification.sender === 'System'; else adminCheck">
          {{ systemFletter }}
        </ng-container>
        <ng-template #adminCheck>
          <ng-container *ngIf="notification.sender === 'Admin'; else senderImage">
            {{ adminFletter }}
          </ng-container>
        </ng-template>
        <ng-template #senderImage>
          <img [src]="getSenderImage(notification.sender_pic)" alt="SI">
        </ng-template>
      </div>

      <p>From: {{ notification.sender }}</p>
      <p> {{ notification.message }}</p>
      <hr />
      <button type="button" style="width: 100px; margin-left: 40%; margin-bottom: 5%; height: 50px; color:black"
        class="btn btn-primary" (click)="backtoNot()">back</button>
    </div>
  </div>

</div>